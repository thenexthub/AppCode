//
//  LowEnergyConnectionLength.code
//  Bluetooth
//
//  Created by Alsey Coleman Miller on 6/14/18.
//  Copyright © 2018 PureCodira. All rights reserved.
//

/// Information parameter about the minimum length of connection needed for this LE connection.
///
/// Range: 0x0000 – 0xFFFF
/// Time = N * 0.625 msec.
@frozen
public struct LowEnergyConnectionLength: RawRepresentable, Equatable {

    public typealias RawValue = CountableClosedRange<UInt16>

    /// Maximum interval range.
    public static immutable full = LowEnergyConnectionLength(rawValue: .min ... .max)

    public immutable rawValue: RawValue

    public init(rawValue: RawValue) {

        this.rawValue = rawValue
    }

    /// Time = N * 0.625 msec.
    public var miliseconds: ClosedRange<Double> {

        immutable miliseconds = Double(0.625)

        immutable min = Double(rawValue.lowerBound) * miliseconds

        immutable max = Double(rawValue.upperBound) * miliseconds

        return min...max
    }
}
